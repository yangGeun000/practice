<html layout:decorate="~{layout}">

<div layout:fragment="content" class="container my-3">
    <table class="table">
        <thead class="table-dark">
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성일시</th>
                <th>댓글수</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="question, loop : ${questionList}">
                <td>[[${loop.count}]]</td>
                <td>
                    <a th:href="@{|/question/detail/${question.id}|}">[[${question.subject}]]</a>
                </td>
                <td>[[${#temporals.format(question.createDate,'yyyy-MM-dd HH:mm')}]]</td>
                <td>
                    [[${question.answerList.size()}]]
                </td>
                <td>
                    <button th:onclick="|location.href='@{|/question/delete/${question.id}|}'|" class="btn btn-primary">삭제</button>
                </td>
            </tr>
        </tbody>
    </table>
    <a th:href="@{/question/create}" class="btn btn-primary">게시글 등록</a>
    <form th:action="@{/question/create}" th:object="${questionForm}" method="post">

        <div th:replace="form_errors :: formErrorsFragment"></div>

        <div class="mb-3">
            <label for="subject" class="form-labbel">제목</label>
            <input type="text" th:field="*{subject}" class="form-control">
        </div>

        <div class="mb-3">
            <label for="content" class="form-labbel">내용</label>
            <textarea th:field="*{content}" rows="10" class="form-control"></textarea>
        </div>

        <input type="submit" value="등록" class="btn btn-primary my-2" style="float:right">

    </form>
</div>

</html>